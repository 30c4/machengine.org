<!doctype html><html><head><link rel=stylesheet href=https://machengine.org/next/layouts/default.b5b41950662b914f913203cc4badfc0a9c36d35f5b71d143fdc2e048641012da.css><link rel=apple-touch-icon sizes=180x180 href=https://machengine.org/next/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://machengine.org/next/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://machengine.org/next/favicon-16x16.png><link rel=manifest href=https://machengine.org/next/site.webmanifest><link rel=mask-icon href=https://machengine.org/next/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://machengine.org/next/assets/font/stylesheet.css><link rel=stylesheet href=https://machengine.org/next/assets/font/inter/inter.css><script async defer data-domain=hexops.com src=https://machengine.org/next/opendata.js></script><meta charset=utf-8><title>Getting started | Mach: zig game engine & graphics toolkit</title><link rel=canonical href=https://machengine.org/next/core/getting-started/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noindex"><meta property="og:title" content="Getting started"><meta property="og:description" content="Get started using Mach core in your own project, in your own repository."><meta property="og:type" content="article"><meta property="og:url" content="https://machengine.org/next/core/getting-started/"><meta property="og:image" content="https://machengine.org/next/opengraph/template_hu102e162f47cb7d8ae9eb284939698b9d_62022_e4966718486a3b98fd34bea9bc15c69b.png"><meta property="article:section" content="core"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://machengine.org/next/opengraph/template_hu102e162f47cb7d8ae9eb284939698b9d_62022_e4966718486a3b98fd34bea9bc15c69b.png"><meta name=twitter:title content="Getting started"><meta name=twitter:description content="Get started using Mach core in your own project, in your own repository."></head><body><div class=navbar><div class=content><a href=https://machengine.org/next/ class=logo><div class=img></div></a><div><a href=https://machengine.org/next/engine class=item>Engine</a>
<a href=https://machengine.org/next/core class=item>Core</a>
<a href=https://machengine.org/next/pkg class=item>Packages</a>
<a href=https://machengine.org/next/about class=item>Project</a><div style="width:0;height:100%;border-left:1px solid" class=color-border>&nbsp;</div><a href=https://devlog.hexops.com/categories/mach/ class=item>Devlog</a>
<a href=https://github.com/hexops/mach class=svg-item><img alt=GitHub class=svg-icon src=https://machengine.org/next/img/github.svg></a>
<a href=https://discord.gg/XNG3NZgCqp class=svg-item><img alt=Discord class=svg-icon src=https://machengine.org/next/img/discord.svg></a>
<a href=https://github.com/sponsors/slimsag class=donate-button><img alt=Heart class=svg-icon src=https://machengine.org/next/img/heart.svg>
&nbsp;Donate</a></div></div></div><div class="alert warning"><span><strong>HEY YOU!</strong> We're still working on this site, please don't share it in very public places :)</span></div><div id=content><link rel=stylesheet href=https://machengine.org/next/layouts/docs.acc116b76b1a433105e0bc499904bea75fe90655f1b4ee6db302c6986bf536ea.css><main aria-role=main class=main-docs><aside><ul><li><a href=https://machengine.org/next/core><span>Core overview</span></a></li><li><a href=https://machengine.org/next/core/examples><span>Examples</span></a></li><li><a href=https://machengine.org/next/core/getting-started><span>Getting started</span></a></li><li><a href=https://machengine.org/next/core/migrations><span>Migrations</span></a></li><li><a href=https://machengine.org/next/about/known-issues><span>Known issues â®•</span></a></li></ul></aside><div class=docs><h1 id=getting-started-with-_mach-core_>Getting Started with <em>Mach core</em></h1><p>Here you will learn how to use <em>mach-core</em> in your own project/repository. If you haven&rsquo;t already, check out the <a href=../examples>examples</a> as those describe how to actually use Mach core&rsquo;s APIs, this page just describes project setup.</p><h2 id=creating-a-new-project>Creating a new project</h2><h3 id=create-zig-project>Create Zig project</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>mkdir myproject/
</span></span><span style=display:flex><span>cd myproject/
</span></span><span style=display:flex><span>zig init-exe
</span></span></code></pre></div><h3 id=add-dependencies>Add dependencies</h3><p>mach-core uses the Zig package manager. You&rsquo;ll need a <code>build.zig.zon</code> file next to your <code>build.zig</code> which has all the same dependencies as mach-core.</p><p>To start, simply copy <a href=https://github.com/hexops/mach-core/blob/main/build.zig.zon>mach-core&rsquo;s build.zig.zon</a> file into your project, and palce it next to your <code>build.zig</code>.</p><h3 id=setup-buildzig>Setup build.zig</h3><p>Your <code>build.zig</code> file will need to use <code>mach.App</code> to declare how your application should be built. Your <code>build.zig</code> should look something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zig data-lang=zig><span style=display:flex><span><span style=color:#66d9ef>const</span> std <span style=color:#f92672>=</span> @import(<span style=color:#e6db74>&#34;std&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> mach_core <span style=color:#f92672>=</span> @import(<span style=color:#e6db74>&#34;mach_core&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> build(b<span style=color:#f92672>:</span> <span style=color:#f92672>*</span>std.Build) <span style=color:#f92672>!</span><span style=color:#66d9ef>void</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> target <span style=color:#f92672>=</span> b.standardTargetOptions(.{});
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> optimize <span style=color:#f92672>=</span> b.standardOptimizeOption(.{});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    mach_core.mach_glfw_import_path <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;mach_core.mach_gpu.mach_gpu_dawn.mach_glfw&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> app <span style=color:#f92672>=</span> <span style=color:#66d9ef>try</span> mach_core.App.init(b, .{
</span></span><span style=display:flex><span>        .name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;myapp&#34;</span>,
</span></span><span style=display:flex><span>        .src <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;src/main.zig&#34;</span>,
</span></span><span style=display:flex><span>        .target <span style=color:#f92672>=</span> target,
</span></span><span style=display:flex><span>        .deps <span style=color:#f92672>=</span> <span style=color:#f92672>&amp;</span>[_]std.build.ModuleDependency{},
</span></span><span style=display:flex><span>        .optimize <span style=color:#f92672>=</span> optimize,
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (b.args) <span style=color:#f92672>|</span>args<span style=color:#f92672>|</span> {
</span></span><span style=display:flex><span>        app.run.addArgs(args);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> run_step <span style=color:#f92672>=</span> b.step(<span style=color:#e6db74>&#34;run&#34;</span>, <span style=color:#e6db74>&#34;Run the app&#34;</span>);
</span></span><span style=display:flex><span>    run_step.dependOn(<span style=color:#f92672>&amp;</span>app.run.step);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> unit_tests <span style=color:#f92672>=</span> b.addTest(.{
</span></span><span style=display:flex><span>        .root_source_file <span style=color:#f92672>=</span> .{ .path <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;src/main.zig&#34;</span> },
</span></span><span style=display:flex><span>        .target <span style=color:#f92672>=</span> target,
</span></span><span style=display:flex><span>        .optimize <span style=color:#f92672>=</span> optimize,
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> run_unit_tests <span style=color:#f92672>=</span> b.addRunArtifact(unit_tests);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> test_step <span style=color:#f92672>=</span> b.step(<span style=color:#e6db74>&#34;test&#34;</span>, <span style=color:#e6db74>&#34;Run unit tests&#34;</span>);
</span></span><span style=display:flex><span>    test_step.dependOn(<span style=color:#f92672>&amp;</span>run_unit_tests.step);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Note: the convoluted line <code>mach_core.mach_glfw_import_path = "mach_core.mach_gpu.mach_gpu_dawn.mach_glfw";</code> is currently required due to a bug in the Zig package manager <a href=https://github.com/hexops/mach/issues/902>hexops/mach#902</a></p><h3 id=add-example-code>Add example code</h3><p>To begin coding your project, we suggesting copying the two files from the <code>triangle</code> example into your <code>src/</code> folder:</p><ul><li><a href=https://raw.githubusercontent.com/hexops/mach-core/main/examples/triangle/main.zig><code>main.zig</code></a></li><li><a href=https://raw.githubusercontent.com/hexops/mach-core/main/examples/triangle/shader.wgsl><code>shader.wgsl</code></a></li></ul><h2 id=building-your-project>Building your project</h2><h3 id=build--run--unit-test>Build / run / unit test</h3><p>Build your app (executable will go into <code>zig-out/bin/</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>zig build
</span></span></code></pre></div><p>Build and run your app (useful while developing):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>zig build run
</span></span></code></pre></div><p>Run <a href=https://ziglang.org/documentation/master/#Zig-Test>unit tests</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>zig build test
</span></span></code></pre></div><h3 id=cross-compile>Cross-compile</h3><p>You should now be able to cross-compile to every desktop OS using:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>zig build -Dtarget<span style=color:#f92672>=</span>x86_64-windows
</span></span><span style=display:flex><span>zig build -Dtarget<span style=color:#f92672>=</span>x86_64-linux-gnu
</span></span><span style=display:flex><span>zig build -Dtarget<span style=color:#f92672>=</span>x86_64-macos
</span></span><span style=display:flex><span>zig build -Dtarget<span style=color:#f92672>=</span>aarch64-macos
</span></span></code></pre></div><h3 id=run-in-the-browser>Run in the browser</h3><p>Mach doesn&rsquo;t yet support <em>graphics</em> in the browser (<a href=https://github.com/hexops/mach/issues/90>issue #90</a>), but windowing, input, and audio all work already - as well as a nice dev server CLI we have. We&rsquo;re actively collaborating on building browser support in the <code>#wasm</code> channel in <a href=https://machengine.org/next/discord>Discord</a> and will update this section once it is ready.</p><h2 id=questions-ran-into-an-issue>Questions? Ran into an issue?</h2><p>There are two ways to get help:</p><ul><li><a href=https://github.com/hexops/mach/issues>File a GitHub issue</a></li><li><a href=https://machengine.org/next/discord>Join our Discord</a> and create a thread in <code>#help</code></li></ul></div><div class=toc><h3>Table of contents</h3><nav id=TableOfContents><ul><li><a href=#creating-a-new-project>Creating a new project</a><ul><li><a href=#create-zig-project>Create Zig project</a></li><li><a href=#add-dependencies>Add dependencies</a></li><li><a href=#setup-buildzig>Setup build.zig</a></li><li><a href=#add-example-code>Add example code</a></li></ul></li><li><a href=#building-your-project>Building your project</a><ul><li><a href=#build--run--unit-test>Build / run / unit test</a></li><li><a href=#cross-compile>Cross-compile</a></li><li><a href=#run-in-the-browser>Run in the browser</a></li></ul></li><li><a href=#questions-ran-into-an-issue>Questions? Ran into an issue?</a></li></ul></nav></div></main><div class=footer><a href=https://hexops.com/privacy>Privacy matters</a><p><a href=https://machengine.org/next/about#improve-this-site>Improve this site</a> | <a href=https://github.com/sponsors/slimsag>Sponsor on GitHub</a> | <a href=https://devlog.hexops.com/>Hexops' devlog</a></p></div></div></body></html>